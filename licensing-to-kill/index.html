<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Licensing to Kill? - Chris K. N.</title><meta name="description" content="The Scandinavian countries are proud of the image they project to the world. They are peaceful, they fulfill their international duties and they do their best to solve other countries’ problems. Is it a contradiction, then, that Norway and Sweden both host thriving defense industries? “The problem is probably not that there’s too little military equipment in the world,” says Christer Henebäck, information director at Bofors Defence. “The problem is that there’s too much.” In that case, the Scandinavian arms industry might deserve a closer look. According the Stockholm International Peace Research Institute, SIPRI, Norway is the 28th largest exporter&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://christian.nordtomme.com/licensing-to-kill/"><link rel="alternate" type="application/atom+xml" href="https://christian.nordtomme.com/feed.xml" title="Chris K. N. - RSS"><link rel="alternate" type="application/json" href="https://christian.nordtomme.com/feed.json" title="Chris K. N. - JSON"><meta property="og:title" content="Licensing to Kill?"><meta property="og:image" content="https://christian.nordtomme.com/media/posts/20/veterans-day-4653833-scaled.jpg"><meta property="og:image:width" content="2560"><meta property="og:image:height" content="1446"><meta property="og:site_name" content="Chris K. N."><meta property="og:description" content="The Scandinavian countries are proud of the image they project to the world. They are peaceful, they fulfill their international duties and they do their best to solve other countries’ problems. Is it a contradiction, then, that Norway and Sweden both host thriving defense industries? “The problem is probably not that there’s too little military equipment in the world,” says Christer Henebäck, information director at Bofors Defence. “The problem is that there’s too much.” In that case, the Scandinavian arms industry might deserve a closer look. According the Stockholm International Peace Research Institute, SIPRI, Norway is the 28th largest exporter&hellip;"><meta property="og:url" content="https://christian.nordtomme.com/licensing-to-kill/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@nordtomme"><meta name="twitter:title" content="Licensing to Kill?"><meta name="twitter:description" content="The Scandinavian countries are proud of the image they project to the world. They are peaceful, they fulfill their international duties and they do their best to solve other countries’ problems. Is it a contradiction, then, that Norway and Sweden both host thriving defense industries? “The problem is probably not that there’s too little military equipment in the world,” says Christer Henebäck, information director at Bofors Defence. “The problem is that there’s too much.” In that case, the Scandinavian arms industry might deserve a closer look. According the Stockholm International Peace Research Institute, SIPRI, Norway is the 28th largest exporter&hellip;"><meta name="twitter:image" content="https://christian.nordtomme.com/media/posts/20/veterans-day-4653833-scaled.jpg"><link rel="stylesheet" href="https://christian.nordtomme.com/assets/css/style.css?v=8698da61c7856cd5601dfec5e0d3d45a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://christian.nordtomme.com/licensing-to-kill/"},"headline":"Licensing to Kill?","datePublished":"2002-06-01T04:58+02:00","dateModified":"2023-09-13T09:33+02:00","image":{"@type":"ImageObject","url":"https://christian.nordtomme.com/media/posts/20/veterans-day-4653833-scaled.jpg","height":1446,"width":2560},"description":"The Scandinavian countries are proud of the image they project to the world. They are peaceful, they fulfill their international duties and they do their best to solve other countries’ problems. Is it a contradiction, then, that Norway and Sweden both host thriving defense industries? “The problem is probably not that there’s too little military equipment in the world,” says Christer Henebäck, information director at Bofors Defence. “The problem is that there’s too much.” In that case, the Scandinavian arms industry might deserve a closer look. According the Stockholm International Peace Research Institute, SIPRI, Norway is the 28th largest exporter&hellip;","author":{"@type":"Person","name":"Chris K. N.","url":"https://christian.nordtomme.com/author/chris-k-n/"},"publisher":{"@type":"Organization","name":"Chris K. N.","logo":{"@type":"ImageObject","url":"https://christian.nordtomme.com/media/website/ChrisKN-white-shadow.png","height":724,"width":1826}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script defer="defer" src="https://api.pirsch.io/pa.js" id="pianjs" data-code="3w3jkQk7vT6wBi5WojOugI4NovxYjvQB"></script></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://christian.nordtomme.com/"><img src="https://christian.nordtomme.com/media/website/ChrisKN-white-shadow.png" alt="Chris K. N." width="1826" height="724"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://christian.nordtomme.com/tags/norwegian/" title="På Norsk" target="_self">På Norsk</a></li><li><a href="https://christian.nordtomme.com/tags/english/" target="_self">In English</a></li><li><span class="is-separator">|</span></li><li><a href="https://christian.nordtomme.com/tags/" title="All tags" target="_self">Tags</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="wrapper search__overlay-inner"></div></div><button class="search__btn btn--icon js-search-btn" aria-label="Search"><svg height="18" width="18" role="presentation" focusable="false"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Licensing to Kill?</h1><div class="feed__meta content__meta"><img src="https://www.gravatar.com/avatar/fdb79ce695983b409a1b7d929bde492d?s&#x3D;240" loading="eager" height="240" width="240" class="feed__author-thumb" alt=""> <a href="https://christian.nordtomme.com/author/chris-k-n/" class="feed__author">Chris K. N.</a> <time datetime="2002-06-01T04:58" class="feed__date">1. 58, 2002</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://christian.nordtomme.com/media/posts/20/veterans-day-4653833-scaled.jpg" srcset="https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-xs.jpg 640w, https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-sm.jpg 768w, https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-md.jpg 1024w, https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-lg.jpg 1366w, https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-xl.jpg 1600w, https://christian.nordtomme.com/media/posts/20/responsive/veterans-day-4653833-scaled-2xl.jpg 1920w" sizes="88vw" loading="eager" height="1446" width="2560" alt=""></div></figure></div><div class="entry-wrapper content__entry"><p></p><p><em>The Scandinavian countries are proud of the image they project to the world. They are peaceful, they fulfill their international duties and they do their best to solve other countries’ problems. Is it a contradiction, then, that Norway and Sweden both host thriving defense industries?</em></p><p></p><p></p><p>“The problem is probably not that there’s too little military equipment in the world,” says Christer Henebäck, information director at Bofors Defence. “The problem is that there’s too much.”</p><p></p><p></p><p>In that case, the Scandinavian arms industry might deserve a closer look. According the Stockholm International Peace Research Institute, SIPRI, Norway is the 28th largest exporter of arms and military equipment in the world. The foreign ministry itself says that its yearly exports of about 1.1 to 1.5 billion Norwegian kroner (approximately ?140 - 200 million) are relatively modest. Compared to its closest neighbor Sweden, who, with its 4.5 billion Swedish kronor (about ?500 million) in annual arms exports, is number 15 on the same list, this assessment is true.</p><p></p><p></p><h3>Differences between neighbors</h3><p></p><p></p><p>"Norway has a relatively small [defense] industry," says Ian Anthony, project leader for export controls at SIPRI, "that caters mostly to customers to which it has catered for many years."</p><p></p><p></p><p>Anthony is making a contrast between Sweden and Norway. Unlike its neighbor, he says, Sweden has a fairly large defense industry that produces a broad spectrum of goods. The two countries’ arms export control regimes, though sharing many similarities, are tailored to their respective domestic needs.</p><p></p><p></p><p>Although both countries have a Section for Export Control subordinate to the foreign ministry, Sweden has the additional politically independent agency ISP, the National Inspectorate of Strategic Products. The Swedish Section for Export Controls therefore has to stick to handling policy developments, leaving licensing decisions to ISP, whereas their Norwegian counterparts get to make licensing decisions by themselves.</p><p></p><p></p><p>The division in the Swedish system is far from random.</p><p></p><p></p><p>"In the mid-80s there was a series of events that led to a fundamental rethinking of the way export controls were being conducted," Anthony says, referring to a series of Swedish export scandals. The rethinking to which he refers resulted in new legislation and the 1996 creation of the ISP.</p><p></p><p></p><p>Says Thomas Tjäder, international security advisor for the ISP, "the legislation needs to project credibility, longevity, and a steady policy line. [The ISP] was created so that there would be an authority, independent of party politics, that would provide that steady line."</p><p></p><p></p><p>In Norway, where the industry is smaller, there is no such independent office, and Anthony argues that there's not as much of a need for one. Unlike in Sweden, he says, "most of the decisions made are routine decisions, and rarely do they have to make a decision regarding a country or a weapons system they have never dealt with before."</p><p></p><p></p><p>After all, the Norwegian defense industry caters mostly to customers to which it has catered for years.</p><p></p><p></p><p>A billion Norwegian kroner still buys a lot of destructive power, however, and Norway prides itself on being very strict about who gets to lay their hands on it. Having signed all the multilateral treaties they have been allowed to participate in, and being one of 17 non-EU countries to accept the provisions in the European Union Code of Conduct on Arms Exports, there is no lack of documents to support this restrictive attitude. As a matter of fact, among the things one should be careful about exporting without a license are cargo parachutes, machinery that can make tiny aluminum spheres, and something called tetranitrobenzotriazolobenzotriazole, which may or may not be a European Union typo.</p><p></p><p></p><p></p><h3>The EU Code of Conduct</h3><p></p><p></p><p>The 1998 EU Code of Conduct didn't contain a list of such materials – goods one should have a license before exporting – but in 2000, a nineteen-page list was added to the original code. The list identified hundreds of conventional weapons, chemical substances, mechanical components, software programs and so-called dual-use objects that need special attention from the authorities. For most of the member states this came on top of a number of other, more specialized multilateral treaties. The Non-Proliferation Treaty, the Australia Group and the Wassenaar Agreement already gave guidelines for how to behave when exporting vital parts of nuclear, chemical and biological, and conventional weapons, respectively.</p><p></p><p></p><p>The European Union Code of Conduct on Arms Exports, incorporated on June 8, 1998, started out as an attempt to consolidate the individual EU members’ arms export controls, and to improve cooperation and information sharing. It is not a legally binding document, but a politically binding set of guidelines. The initial document sets down eight criteria for arms exports. Every year, the member states are required to report the previous year’s arms exports to each other and to the COARM working group. COARM is constantly working to improve and upgrade the code of conduct, and publishes an annual report on its activities. The EU Code of Conduct is therefore not a static law, but a dynamic, seemingly organic, set of guidelines whose open sores heal from within when they are discovered. But this lack of rigidity is also the root to some of the code’s biggest problems.</p><p></p><p></p><p>“The code has some intrinsic flaws,” says Antonio Tanca, principal administrator in charge of the COARM working group, pointing out the leeway its adherents have. “It remains very flexible. Member states can be put on the spot when it comes to general transparency, but they can not be put on the spot when it comes to specific cases.”</p><p></p><p></p><p>When the EU Code of Conduct is brought up, Anthony dismisses it in a tone of voice indicating that these problems are too big to make it efficient.</p><p></p><p></p><p>“The code of conduct is not legally binding,” he reemphasizes. “It's just an agreement between countries, a political understanding.”</p><p></p><p></p><p>That is not to say that he doesn’t see it as a giant step in the right direction, but there still a great deal of work left to do that the EU is not doing well enough.</p><p></p><p></p><p></p><h3>End-user control</h3><p></p><p></p><p>End-user control is what Anthony describes as the “biggest headache.” As the term implies, end-user control is about knowing who finally ends up with the exported arms and ammunition. History has shown that if a Swedish or Norwegian weapon turns up in a war where it shouldn’t have been, the blame quickly finds its way to the company that sold the product in the first place.</p><p></p><p></p><p>“That’s bad advertising that we’d rather avoid,” says Sissel Solum, spokesperson for the Norwegian-Swedish-Finnish ammunitions producer, Nammo. One of the company’s predecessors, Raufoss, was involved in a 1980s scandal when their hand-held anti-tank weapon M72 showed up in war-torn Nicaragua.</p><p></p><p></p><p>“Sometimes it’s a little shocking to see who’s not doing what they should,” Solum says, walking the fine line between pointing fingers and not mentioning names. “Sometimes the good guys are the bad guys; some NATO countries, for instance, not behaving properly. In particular, the two largest powers in the world may be the worst at throwing military material around.”</p><p></p><p></p><p>Nobody can afford to give all the responsibility away, however. Although the exporters follow the foreign ministry’s decisions, and would like for the buck to stop at the government level, they know that any scandal will eventually hurt them.</p><p></p><p></p><p>“If we make one wrong move,” says Geir Vinghøg, chairman of the board at Vinghøg, a Norwegian company producing performance-enhancing components for machine guns and artillery, “we’re in deep trouble. We still haven’t gotten any scratches in our reputation, and we’re very diligent about not getting any. We’re dependent on support from ‘Norway Inc.’ – the government, the military – and for that we need a clean record.”</p><p></p><p></p><p>There is no lack of willing buyers of their products in the world, but the sellers have learned to treat inquiries with a fair dosage of critical evaluation and an occasional standard reply.</p><p></p><p></p><p>“There are countries we just don’t do business with,” says Henebäck at Bofors Defence. “It may be because they have a very, very harsh dictatorship, or it may be for economical reasons – that we just don’t get paid. And often the two go hand in hand.”</p><p></p><p></p><p>Like in any other business, the successful players know their customers, know the rules, know their limitations and knows the what kind of landscape they are working in.</p><p></p><p></p><p>“We’re capable of seeing ourselves in the mirror,” Vinghøg says, meaning he has a pretty good idea about what his company can and can’t allow itself.</p><p></p><p></p><p></p><h3>Human Rights and Wrongs</h3><p></p><p></p><p>Turkey hasn’t always gotten this special treatment, however. In 1995, after the invasion of Northern Iraq, Norway imposed a moratorium on arms exports to the country, and demanded, as a requirement for resuming deliveries, that Turkey clean up its human rights record.</p><p></p><p></p><p>This was before the EU Code of Conduct and human rights are not, nor were they then, mentioned in Norwegian legislation as a consideration when making licensing decisions. Yet, according to the Press Officer Karsten Klepsvik at the Norwegian Ministry of Foreign Affairs, countries’ human rights records are evaluated on a case-by-case basis. In 1999 arms deliveries to Turkey were continued, but it is uncertain whether this meant that the Foreign Ministry was satisfied with Turkey’s improvements.</p><p></p><p></p><p>Whether it was political obligation, improvement of the circumstances in Kurdistan or other factors that made the government change its stance, the complexity of the issue is well illustrated by the fact that Klepsvik was unable to find an answer to the question in almost three days.</p><p></p><p></p><p>“[Human rights] is the least well-developed issue of them all,” Anthony laments, “because it's such a new issue. It didn't enter the debate until about five years ago.”</p><p></p><p></p><p>Anthony explains that export control systems were initially developed as a tool to deal with international security issues. When science gave us weapons of mass destruction and the cold war gave us a constant threat, having an increasingly sophisticated system of control was an absolute necessity. Even though the systems were not developed to have an impact on human rights, it became clear after a while that they had some influence over the internal situation in certain countries too, and only recently have they been used as a tool in this new context.</p><p></p><p></p><p>“You can see decisions by the EU to pass restrictive trade measures,” Anthony says. “Not only on military equipment, but also on various goods intended for civilian use; like for example police equipment and surveillance equipment that can be used by intelligence agencies to monitor citizens. These controls are gradually coming about, and are having an effect on internal security.”</p><p></p><p></p><p>Since this is such a new way of dealing with an old problem, however, there are still some details to work out. Like those slippery interpretations again.</p><p></p><p></p><p>“The problem is how to interpret these new policies,” Anthony says. “ If you have a spectrum across Europe, Sweden is very much on the restrictive end. But the UK would be quite likely to license police exports that would not be allowed out of Sweden.”</p><p></p><p></p><p>Anthony points out that this is not just a matter of interpretation, but also of weighing the effects of an embargo against those of keeping certain ties.</p><p></p><p></p><p>“Nobody knows the impact if you make the decision not to license an export,” he points out, reminding about the novelty of this aspect of export controls. “If you do, you probably cut your contacts with the police in that country. The UK, for instance, might argue that good contact is more important, because you may have some influence on how they behave.”</p><p></p><p></p><p>Marsh focuses on another aspect that needs to be worked on. The international political opinion has so far largely ignored either the problem or the possibilities of export controls as a means to solving it.</p><p></p><p></p><p>“It's not very nice to admit it,” Marsh says, “but it's not seen as a particularly bad international offence to sell arms that will be used to commit human rights abuses.”</p><p></p><p></p><p>He calls for some international initiative, some loud criticism, to make a significant number of states come together and create a “moral benchmark.” He uses the example of how the western countries dealt with illicit arms transfers from Central European countries.</p><p></p><p></p><p>“Slovakia, for example, had very bad records,” March says, “and Bulgarian weapons showed up everywhere. The EU and NATO stated very clearly that these countries would have to improve their records if they wanted to be considered for membership. They might not have been 100% successful, but it had a positive effect.”</p><p></p><p></p><p>If countries’ attitudes to this sort of international policing problems have consequences, he says – if failure to reach for the moral benchmark means diminished acceptance and influence on the international arena – then he thinks the results would follow.</p><p></p><p></p><p>This is an area where the EU feels it has something to contribute, and Anthony acknowledges that the European Union has been somewhat of a pioneer in linking human rights with export controls, but nobody pretends that the job is done yet. Despite the workload ahead, however, EU’s Tanca, who works with the EU Code of Conduct daily, doesn’t hesitate in pointing out the successes already accomplished.</p><p></p><p></p><p>“The situation as it was played into the hands of those who wanted zero transparency,” he says. “Now it plays into the others’ hands, those who want transparency and accountability.”</p><p></p><p></p><p>In addition to export controls, Tanca also lists several other areas where the momentum created by the code has made improvements, areas like human rights.</p><p></p><p></p><p>“Even if it’s not legally binding, the substance stays the same,” he says. “It creates a reference text.”</p><p></p><p></p><p>And by the European Parliament commenting on the annual reports, the COARM working group identifying and smoothing out bumps, and the member states slowly getting used to the code, he says a “circular, positive dynamics” is created. In time, the European Code of Conduct may develop into the moral benchmark Marsh is calling for.</p><p></p><p></p><p></p><h3>To-Do List</h3><p></p><p></p><p>The best thing Norway and Sweden can do to perpetuate the positive trend and improve conditions, Anthony and Marsh agree, is to promote international discussion. On a topic like end-user control, it is probably the only realistic alternative. When a country transfers arms in support of one side in an essentially local conflict, Marsh says as an example, the headache begins.</p><p></p><p></p><p>“Weapons tend to fall into the hands of the people you’re trying to fight,” he explains, and goes on to outline one alternative for dealing with the problem. “The Norwegian government could require, for instance, that ‘this ammunition can only be used for practice or in a NATO operation,’ but realistically...”</p><p></p><p></p><p>He doesn’t expect any nation to stand up to, for example, the United States. But since the politics of international relations often seem to be at the root of problem, it is probably also at the root of the solution. Instead, he suggests, “what would be much more effective for Norway to do, would be to work toward bringing the EU or another multilateral group to sign a treaty or a common standard. Whether this would be to strengthen the EU code of conduct, or something built on a whole new set of rules, it would be a start.”</p><p></p><p></p><p>Anthony, too, calls for broader multilateral cooperation, and thinks the Scandinavian countries could be the ones to initiate it.</p><p></p><p></p><p>“What Norway and Sweden should do,” he suggests, “is to promote an international discussion on how to improve enforcement, and in particular on improving end-user control and ways to reduce corruption.”</p><p></p><p></p><p>Anthony realizes that this will be a very difficult task, but as a starting point, he suggests that a number of states come together and make a common assessment of which countries pose a real risk.</p><p></p><p></p><p>At any rate, everybody seems to agree, that Norway and Sweden are more likely to be part of the solution than part of the problem.</p><p></p><p></p><p>“I think that it’s fair to say,” Marsh concludes, “that the Scandinavian countries in general have one of the better records on arms exports (notwithstanding the occasional scandal.)”</p><p></p><p></p><p></p><h3>Playing by the rules</h3><p></p><p></p><p>There are quite a few guidelines to which companies and countries selling armaments abroad have to pay heed. The most important ones, in addition to the requirement that one should be reasonably sure who the end-user will be, are perhaps the general rule that one does not export weapons to a country at – or on the brink of – war; the policy that one does not sell weapons to anyone who is likely to use them to violate human rights; and the necessary preventive measure that one should pay particular attention to anything that can help countries develop or deliver weapons of mass destruction. Most of these requirements seem to be common sense. There is, however, more to arms sales than just the obvious.</p><p></p><p></p><p>“The trouble with all these policies is that no one ever decides what [they mean],” says Nicholas Marsh, project leader for the Small Arms Database at NISAT, the Norwegian Initiative on Small Arms Transfers. “Countries export arms and ammunition to Israel, and excuse it by asking: 'well, are they really at war?' No one defines war. The same is happening now with, say, Pakistan and India. 'Is it a war?'”</p><p></p><p></p><p>Then there’s the issue of being a credible and reliable actor in a highly competitive market. Even if an order violates one or more of the guidelines, accepting it and delivering the product may still be the most realistic option.</p><p></p><p></p><p>Commenting on information that Bofors Defence was in competition with two other companies for a SEK 20 billion contract with the Indian military, Swedish Foreign Minister Anna Lindh recently clearly stated that it would be out of the question to issue licenses for export of any new weapons systems to India. The tense situation between India and Pakistan made the notion of such an export unthinkable. It is not that easy, however.</p><p></p><p></p><p>“There are agreements that the Swedish state has entered into with the Indian state,” says ISP’s Tjäder. “And those agreements will be honored.”</p><p></p><p></p><p>The agreements in question concern mainly reparations, modernization, and updates of equipment that India bought from Swedish companies years ago. There is justifiable concern that breaking an agreement with India may send a signal to other potential customers that Swedish companies can’t be trusted to be available when they are needed.</p><p></p><p></p><p>“If you have two legal documents,” SIPRI’s Ian Anthony explains, “and one of them is a contract, then that may have greater weight than a directive, which may in essence be a guideline. If there's no such contract, the guidelines will be followed.”</p><p></p><p></p><p>Tjäder also emphasizes that nobody really knows how long it will take for the Indian government to make a decision on who gets the valuable contract.</p><p></p><p></p><p>“It may take a year,” he says. “And in a year the situation down there may be completely different.”</p><p></p><p></p><p>Indeed, not many days after Tjäder speaks, there are some signs of a cooling of the conflict. While the future is still uncertain, however, Henebäck confirms that the contract is a follow-up delivery as far as Bofors is concerned. He also points out that situations like this one is ISP’s raison d’être.</p><p></p><p></p><p>“Technically,” he says, ”when we send in the applications, it is so that [the ISP] can decide in cases like this, when there is doubt. There are quite a few questions that need to be answered…”</p><p></p><p></p><p>When Henebäck continues, his words are a mocking echo of Marsh’s.</p><p></p><p></p><p>“Is it a war,” Henebäck asks. “Have they declared war? Is Kashmir a war zone?”</p><p></p><p></p><p></p><h3>Friends will be friends</h3><p></p><p></p><p>In Scandinavia, the EU Code of Conduct’s criterion of not exporting arms to a country at war does not present a new concept. It has been a long-standing, though obviously relative, policy in Sweden, and Norwegian law contains a sentence eerily similar to that in the code. As widespread inbreeding and subsequent dyslexia in Europe’s royal families can testify to, however, friendship and alliances have been more important than rules and policies for millennia, and there are plenty of signs that this may still be the case. Relativity is not exclusive to Sweden.</p><p></p><p></p><p>“There's a similar problem with Norway's exports to a country like Turkey,” Anthony says. “As a fellow NATO member, Norway has certain obligations to assist Turkey in its self-defense. At the same time, there are issues raised when it comes to exporting weapons to continue the war in Kurdistan.”</p><p></p><p></p><p>Again, whether there is actually a war going on in Kurdistan is a question of definition. Nevertheless, arms exports to Turkey is a controversial issue. According to Tjäder, the ISP rarely approves licenses for companies in formerly neutral Sweden to sell arms or ammunition to Turkey, and he sounds genuinely apologetic when he admits to one incident in which they approved a shipment of competition ammunition for a championship.</p><p></p><p></p><p>Sweden is not the only country to be skeptical about selling arms to Turkey. Even if the conflict in Kurdistan does not qualify as a war, the situation raises definite human rights issues, and criterion 2 in the EU code is devoted to “the respect of human rights in the country of final destination.” Since the country that connects Europe to the Middle East wants to become a member of the European Union, however, a political discussion has been going on for some time about Turkey as a customer of weapons.</p><p></p><p></p><p>The European Union is using membership and arms trade as an incentive to get Turkey to clean up its human rights record, but so far it has had little effect. Meanwhile, Norway and the other NATO members are faced with a dilemma when it comes to dealing with Turkey. Marsh argues that it wouldn’t make much sense to expect help from Turkey, even in the context of the defense alliance, if the other members refused to sell them the equipment.</p><p></p><p></p><p>“To deal with this,” Anthony says, “[Norwegian licensing authorities] try to differentiate on a system-by-system basis. A delivery to the Turkish navy, for instance, may not be especially dangerous to the Kurds, and not so difficult to get licensed, whereas a license to export ammunition to the Turkish ground troops in Kurdistan may be denied.”</p><p></p><p></p><p>This differentiation gets understanding from the Norwegian arms producers, if perhaps under some grumbling.</p><p></p><p></p><p>“You have to wonder sometimes about Turkey,” says Vinghøg, summing up the situation in a few sentences. “They’re a considerable NATO country, yes. But that Kongsberg gets to sell their Penguins [missile systems] there – I guess they may not be able to use them on the Kurds, or even willing to use a million-kroner kapow against them – but it sort of makes you wonder. That’s our foreign policy, though, and there isn’t too much we can do about that.”</p><h4>Read more:</h4><ul><li><a href="https://christian.nordtomme.com/the-mirror/">The Mirror</a></li><li><a href="https://christian.nordtomme.com/the-127-millimeter-football/">The 12.7-millimeter football</a></li><li><a href="https://christian.nordtomme.com/legislation-regulation-and-documentation/">Legislation, regulation and documentation</a> </li></ul><p></p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on 13. 33, 2023</p><div class="content__actions"><ul class="content__tag"><li><a href="https://christian.nordtomme.com/tags/english/">In English</a></li><li><a href="https://christian.nordtomme.com/tags/journalism/">Journalism</a></li><li><a href="https://christian.nordtomme.com/tags/writing/">Writing</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fchristian.nordtomme.com%2Flicensing-to-kill%2F" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fchristian.nordtomme.com%2Flicensing-to-kill%2F&amp;via=%40nordtomme&amp;text=Licensing%20to%20Kill%3F" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fchristian.nordtomme.com%2Flicensing-to-kill%2F" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div></div></div><div class="content__bio bio"><img src="https://www.gravatar.com/avatar/fdb79ce695983b409a1b7d929bde492d?s&#x3D;240" loading="lazy" height="240" width="240" class="bio__avatar" alt=""><div><h3 class="h4 bio__name"><a href="https://christian.nordtomme.com/author/chris-k-n/" rel="author">Chris K. N.</a></h3><div class="bio__desc"><p>A.k.a. Christian K. Nordtømme is a Norwegian <a href="https://chriskn.no" title="Chris K. N. Coaching &amp; Consulting" target="_blank" rel="noopener">marketing coach and consultant</a> helping entrepreneurs, leaders and superheroes. </p><p>He also writes about writing (in Norwegian) on <a href="https://skriftlig.no" title="Skriftlig.no">Skriftlig.no</a>, about marketing (in English) on <a href="https://medium.com/@chriskn" title="Chris K. N.">medium.com/@chriskn</a>, and about other, more random stuff on <a href="https://medium.com/@nordtomme" title="Chris K. N. blogs">medium.com/@nordtomme</a> (and <a href="https://nordtomme.substack.com/" title="Chris K. N. at Substack">at Substack</a>)</p></div></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://christian.nordtomme.com/what-the-hell-happened/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://christian.nordtomme.com/media/posts/19/responsive/243447331_7439c14cb6_o-xs.jpg" class="lazyload" loading="lazy" alt="" height="3000" width="3000"></figure><div><span>Previous</span> What the hell happened?</div></a></div><div class="content__nav-next"><a href="https://christian.nordtomme.com/the-127-millimeter-football/" class="content__nav-link" rel="next"><div><span>Next</span> The 12.7-millimeter football</div><figure class="content__nav-image"><img src="https://christian.nordtomme.com/media/posts/21/responsive/422352_950394291-xs.jpg" class="lazyload" loading="lazy" alt="" height="1536" width="1536"></figure></a></div></div></div></nav></footer></article></main><footer class="footer footer--glued"><div class="wrapper"><nav class="footer__nav"><ul><li><a href="https://skriftlig.no" class="al" title="Skriftlig.no" target="_blank">Skriftlig.no</a></li><li><a href="https://chriskn.no" class="al" title="Chris K. N. Consulting " target="_blank">Chris K. N. Consulting</a></li><li><a href="https://medium.com/@nordtomme" class="al" title="Nordtomme @ Medium.com" target="_blank">Medium (main)</a></li><li><a href="https://medium.com/@chriskn" class="al" title="Chris K N @ Medium.com" target="_blank">Medium (marketing)</a></li><li><a href="https://nordtomme.substack.com" class="al" title="nordtomme @ substack.com" target="_blank">Substack</a></li><li><a href="https://www.linkedin.com/in/cknordtomme" class="al" title="LinkedIn" target="_blank">LinkedIn</a></li></ul></nav><div class="footer__copyright"><p>© Copyright 2001–2025 Christian K. Nordtomme</p></div><button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://christian.nordtomme.com/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://christian.nordtomme.com/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'overlay',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script async>(function(s,u,m,o,j,v){j=u.createElement(m);v=u.getElementsByTagName(m)[0];j.async=1;j.src=o;j.dataset.sumoSiteId='503f009a46acd3020a9f023844d48611e3c51f5bcc559ad6559c90f4c2f0f2b6';v.parentNode.insertBefore(j,v)})(window,document,'script','//load.sumome.com/');</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality.</div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.</div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title">Required</summary><p class="pcb__group__txt">Cookies necessary for the site to work as expected.</p></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li><li class="pcb__group"><details><summary class="pcb__group__title">Anonymous analytics</summary><p class="pcb__group__txt">Anonymous, privacy-conscious usage data that helps me improve.</p></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="analytics" id="analytics-cookies"> <label for="analytics-cookies">Anonymous analytics</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>